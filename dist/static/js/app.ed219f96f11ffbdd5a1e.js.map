{"version":3,"sources":["webpack:///static/js/app.ed219f96f11ffbdd5a1e.js","webpack:///./src/domain/chess/rules/change-player-rule.js","webpack:///./src/domain/chess/Game.js","webpack:///./src/chess-vue/index.js","webpack:///./src/domain/chess/rules/game-of-pawns-ruleset.js","webpack:///./src/domain/chess/rules/no-move-on-same-color.js","webpack:///./src/chess-vue/BoardView.vue?7970","webpack:///./src/domain/chess/defaultRules.js","webpack:///./src/chess-vue/BoardView.vue?9ab3","webpack:///./src/domain/chess/GridCell.js","webpack:///src/chess-vue/ChessGameView.vue","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/chess-vue/ChessGameView.vue?4d82","webpack:///./src/App.vue?6b4e","webpack:///src/chess-vue/PieceView.vue","webpack:///./src/domain/chess/rules/rule-processor.js","webpack:///./src/domain/chess/Board.js","webpack:///./src/domain/chess/rules/move-only-current-player.js","webpack:///./src/domain/chess/defaultCellFormatter.js","webpack:///./src/domain/chess/rules/pawn-move-rule.js","webpack:///./src/domain/chess/rules/game-of-pawns-win.js","webpack:///./src/domain/chess/PieceType.js","webpack:///./src/domain/chess/rules/move-builder.js","webpack:///./src/chess-vue/PieceView.vue?ab5d","webpack:///./src/chess-vue/PieceView.vue?9444","webpack:///./src/Logger.js","webpack:///./src/domain/chess/Piece.js","webpack:///./src/domain/chess/PieceColor.js","webpack:///src/chess-vue/BoardView.vue","webpack:///./src/chess-vue/ChessGameView.vue?fc84","webpack:///src/App.vue"],"names":["webpackJsonp","/hLN","module","__webpack_exports__","__webpack_require__","changePlayerRule","_ref","game","player","__WEBPACK_IMPORTED_MODULE_0__PieceColor__","valid","gameEnd","2+AJ","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","n","__WEBPACK_IMPORTED_MODULE_1__Board__","__WEBPACK_IMPORTED_MODULE_2__defaultRules__","Game","_this","this","options","arguments","length","undefined","setup","_rules","logger","log","applyMove","cell1","cell2","rules","board","31Cy","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_1__ChessGameView_vue__","Vue","component","prototype","$game","$logger","3OJi","__WEBPACK_IMPORTED_MODULE_0__pawn_move_rule__","__WEBPACK_IMPORTED_MODULE_1__change_player_rule__","__WEBPACK_IMPORTED_MODULE_2__move_only_current_player__","__WEBPACK_IMPORTED_MODULE_3__no_move_on_same_color__","__WEBPACK_IMPORTED_MODULE_4__game_of_pawns_win__","movement","win","6e3g","noMoveOnSameColor","i","__WEBPACK_IMPORTED_MODULE_0_lodash__","7lyb","exports","8NI2","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_BoardView_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_cca13254_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_BoardView_vue__","normalizeComponent","__vue_styles__","Component","8eEJ","fillPawnRow","rowIdx","color","x","width","piece","__WEBPACK_IMPORTED_MODULE_5__Piece__","type","__WEBPACK_IMPORTED_MODULE_3__PieceType__","place","y","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_1__rules_game_of_pawns_ruleset__","__WEBPACK_IMPORTED_MODULE_2__rules_rule_processor__","__WEBPACK_IMPORTED_MODULE_4__PieceColor__","height","result","9IMS","render","_vm","_h","$createElement","_c","_self","staticClass","_l","column","key","cell","class","getClass","_b","nativeOn","click","$event","stopPropagation","$emit","staticRenderFns","esExports","C4WL","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default","GridCell","forEach","HT4Q","__WEBPACK_IMPORTED_MODULE_0__domain_chess_Game__","__WEBPACK_IMPORTED_MODULE_1__BoardView__","name","data","state","selectedCell","messages","mounted","Error","loadMessages","subscription","subscribe","beforeDestroy","computed","showCancel","methods","newGame","window","location","reload","handleCellClick","_game$applyMove","clearSelection","getMessages","slice","components","M93x","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0810f8bc_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","NHnr","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_2__domain_chess_Game__","__WEBPACK_IMPORTED_MODULE_3__chess_vue__","__WEBPACK_IMPORTED_MODULE_4__Logger__","config","productionTip","use","el","h","NTma","attrs","on","cell-click","_v","_s","_e","item","idx","NkXQ","id","Ntw8","props","required","caption","String","substr","cssClass","OYWW","processRules","context","x1","y1","x2","y2","brokenMovementRule","find","rule","move","winRule","PJBX","__WEBPACK_IMPORTED_MODULE_2__GridCell__","__WEBPACK_IMPORTED_MODULE_3__defaultCellFormatter__","Board","_grid","cellId","cellOptions","cellFormatter","setCell","getCell","moves","_ref2","_ref3","getGrid","getRow","isValidPoint","_ref4","console","isVacant","point","gridWidth","gridHeight","TKUP","moveOnlyCurrentPlayer","Tot7","isDark","YEQW","pawnMoveRule","piece1","piece2","__WEBPACK_IMPORTED_MODULE_2__PieceType__","isCaptureMove","__WEBPACK_IMPORTED_MODULE_3__move_builder__","linear","candidatePoints","northWest","southWest","northEast","southEast","__WEBPACK_IMPORTED_MODULE_1__PieceColor__","concat","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default","filter","max","north","south","some","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__","b2Jq","gameOfPawnsWin","isInRow","bHE+","d","Pawn","bMM1","moveBuilder","validPoint","yRange","negativeRange","joinRanges","fillRange","positiveRange","east","west","xRange","map","currentIdx","Array","fill","start","end","d9+u","fCe8","gvkF","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_PieceView_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0e397ade_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_PieceView_vue__","h8aE","nLI6","_window","Set","Logger","_messages","subscriber","_subscribers","add","delete","message","push","s","clear","quo9","Piece","sAbv","White","Black","we3F","__WEBPACK_IMPORTED_MODULE_0__PieceView__","grid","pieceView","x2rv","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ChessGameView_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6fa81cfc_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_ChessGameView_vue__","xJD8"],"mappings":"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","file":"static/js/app.ed219f96f11ffbdd5a1e.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"/hLN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = changePlayerRule;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__PieceColor__ = __webpack_require__(\"sAbv\");\n\n\nfunction changePlayerRule(_ref) {\n  var game = _ref.game;\n  var player = game.player;\n\n  game.player = player === __WEBPACK_IMPORTED_MODULE_0__PieceColor__[\"a\" /* White */] ? __WEBPACK_IMPORTED_MODULE_0__PieceColor__[\"b\" /* Black */] : __WEBPACK_IMPORTED_MODULE_0__PieceColor__[\"a\" /* White */];\n\n  return {\n    game: game,\n    valid: true,\n    gameEnd: false\n  };\n}\n\n/***/ }),\n\n/***/ \"2+AJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Board__ = __webpack_require__(\"PJBX\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__defaultRules__ = __webpack_require__(\"8eEJ\");\n\n\n\n\n\nvar Game = function Game() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, Game);\n\n  this.setup = function () {\n    _this._rules.setup(_this);\n    _this.logger.log(\"Game started.\");\n    return _this;\n  };\n\n  this.applyMove = function (cell1, cell2) {\n    return _this._rules.applyMove(_this, cell1, cell2);\n  };\n\n  var rules = options.rules,\n      logger = options.logger;\n\n\n  this._rules = rules || __WEBPACK_IMPORTED_MODULE_2__defaultRules__[\"a\" /* default */];\n  this.logger = logger;\n\n  this.board = new __WEBPACK_IMPORTED_MODULE_1__Board__[\"a\" /* default */](options);\n  this.player = null;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Game);\n\n/***/ }),\n\n/***/ \"31Cy\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ChessGameView_vue__ = __webpack_require__(\"x2rv\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (Vue, _ref) {\n  var game = _ref.game,\n      logger = _ref.logger;\n\n  Vue.component(\"chess-game\", __WEBPACK_IMPORTED_MODULE_1__ChessGameView_vue__[\"a\" /* default */]);\n\n  __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()(Vue.prototype, {\n    $game: game,\n    $logger: logger\n  });\n});\n\n/***/ }),\n\n/***/ \"3OJi\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pawn_move_rule__ = __webpack_require__(\"YEQW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__change_player_rule__ = __webpack_require__(\"/hLN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__move_only_current_player__ = __webpack_require__(\"TKUP\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__no_move_on_same_color__ = __webpack_require__(\"6e3g\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__game_of_pawns_win__ = __webpack_require__(\"b2Jq\");\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  movement: [__WEBPACK_IMPORTED_MODULE_2__move_only_current_player__[\"a\" /* default */], __WEBPACK_IMPORTED_MODULE_3__no_move_on_same_color__[\"a\" /* default */], __WEBPACK_IMPORTED_MODULE_0__pawn_move_rule__[\"a\" /* default */], __WEBPACK_IMPORTED_MODULE_1__change_player_rule__[\"a\" /* default */]],\n  win: [__WEBPACK_IMPORTED_MODULE_4__game_of_pawns_win__[\"a\" /* default */]]\n});\n\n/***/ }),\n\n/***/ \"6e3g\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = noMoveOnSameColor;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n\n\nfunction noMoveOnSameColor(_ref) {\n  var cell1 = _ref.cell1,\n      cell2 = _ref.cell2;\n\n  var color1 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"get\"])(cell1, \"piece.color\", null);\n  var color2 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"get\"])(cell2, \"piece.color\", null);\n\n  return {\n    valid: color1 !== color2\n  };\n}\n\n/***/ }),\n\n/***/ \"7lyb\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"8NI2\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_BoardView_vue__ = __webpack_require__(\"we3F\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_cca13254_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_BoardView_vue__ = __webpack_require__(\"9IMS\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"d9+u\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cca13254\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_BoardView_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_cca13254_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_BoardView_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"8eEJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(\"Dd8w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__rules_game_of_pawns_ruleset__ = __webpack_require__(\"3OJi\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__rules_rule_processor__ = __webpack_require__(\"OYWW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__PieceType__ = __webpack_require__(\"bHE+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__PieceColor__ = __webpack_require__(\"sAbv\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Piece__ = __webpack_require__(\"quo9\");\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  setup: function setup(game) {\n    var board = game.board;\n    var height = board.height;\n\n    // white goes first\n\n    game.player = __WEBPACK_IMPORTED_MODULE_4__PieceColor__[\"a\" /* White */];\n\n    // use default board setup\n    board.setup();\n\n    // 1 row of white pawns\n    fillPawnRow(height - 2, board, __WEBPACK_IMPORTED_MODULE_4__PieceColor__[\"a\" /* White */]);\n\n    // 1 row of black pawns\n    fillPawnRow(1, board, __WEBPACK_IMPORTED_MODULE_4__PieceColor__[\"b\" /* Black */]);\n  },\n  applyMove: function applyMove(game, cell1, cell2) {\n    var logger = game.logger;\n\n\n    var result = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__rules_rule_processor__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_1__rules_game_of_pawns_ruleset__[\"a\" /* default */], {\n      game: game,\n      cell1: cell1,\n      cell2: cell2,\n      logger: logger\n    });\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n      game: game\n    }, result);\n  }\n});\n\nfunction fillPawnRow(rowIdx, board, color) {\n  for (var x = 0; x < board.width; x++) {\n    var piece = new __WEBPACK_IMPORTED_MODULE_5__Piece__[\"a\" /* default */]({\n      color: color,\n      type: __WEBPACK_IMPORTED_MODULE_3__PieceType__[\"a\" /* Pawn */]\n    });\n    board.place({\n      x: x,\n      y: rowIdx,\n      piece: piece\n    });\n  }\n}\n\n/***/ }),\n\n/***/ \"9IMS\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('table', {\n    staticClass: \"game-table\"\n  }, [_c('tbody', _vm._l((_vm.grid), function(column, y) {\n    return _c('tr', {\n      key: y\n    }, _vm._l((column), function(cell, x) {\n      return _c('td', {\n        key: x,\n        class: _vm.getClass(cell)\n      }, [_c('piece-view', _vm._b({\n        nativeOn: {\n          \"click\": function($event) {\n            $event.stopPropagation();\n            _vm.$emit('cell-click', cell, x, y)\n          }\n        }\n      }, 'piece-view', {\n        cell: cell,\n        x: x,\n        y: y\n      }, false))], 1)\n    }))\n  }))])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"C4WL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(\"fZjL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n\n\n\nvar GridCell = function GridCell(options) {\n  var _this = this;\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, GridCell);\n\n  this.piece = null;\n  __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(options).forEach(function (key) {\n    return _this[key] = options[key];\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (GridCell);\n\n/***/ }),\n\n/***/ \"HT4Q\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__domain_chess_Game__ = __webpack_require__(\"2+AJ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__BoardView__ = __webpack_require__(\"8NI2\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\nvar STATE_SELECTING_PIECE = \"Select a Piece\";\nvar STATE_SELECTING_TARGET = \"Select a Target\";\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'ChessGameView',\n\n  data: function data() {\n    return {\n      state: STATE_SELECTING_PIECE,\n      selectedCell: null,\n      game: this.$game,\n      gameEnd: false,\n      messages: []\n    };\n  },\n  mounted: function mounted() {\n    if (!(this.$game instanceof __WEBPACK_IMPORTED_MODULE_0__domain_chess_Game__[\"a\" /* default */])) {\n      throw new Error(\"this.$game is invalid\");\n    }\n\n    this.loadMessages();\n    this.subscription = this.$logger.subscribe(this.loadMessages);\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (typeof this.subscription === \"function\") {\n      this.subscription();\n    }\n  },\n\n\n  computed: {\n    showCancel: function showCancel() {\n      return this.state === STATE_SELECTING_TARGET;\n    },\n    board: function board() {\n      return this.game.board;\n    }\n  },\n\n  methods: {\n    newGame: function newGame() {\n      window.location.reload();\n    },\n    handleCellClick: function handleCellClick(cell) {\n      if (this.gameEnd) {\n        return;\n      }\n      var piece = cell.piece;\n\n      switch (this.state) {\n        case STATE_SELECTING_PIECE:\n          {\n            if (piece == null) {\n              return;\n            }\n            this.selectedCell = cell;\n            this.state = STATE_SELECTING_TARGET;\n            break;\n          }\n\n        case STATE_SELECTING_TARGET:\n          {\n            var cell1 = this.selectedCell;\n            var cell2 = cell;\n\n            var _game$applyMove = this.game.applyMove(cell1, cell2),\n                game = _game$applyMove.game,\n                gameEnd = _game$applyMove.gameEnd;\n\n            this.game = game;\n            this.gameEnd = gameEnd;\n            this.clearSelection();\n          }\n\n      }\n    },\n    clearSelection: function clearSelection() {\n      this.state = STATE_SELECTING_PIECE;\n      this.selectedCell = null;\n    },\n    loadMessages: function loadMessages() {\n      this.messages = this.$logger.getMessages().slice();\n    }\n  },\n\n  components: {\n    board: __WEBPACK_IMPORTED_MODULE_1__BoardView__[\"a\" /* default */]\n  }\n\n});\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0810f8bc_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"NkXQ\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0810f8bc_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"/5sW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__domain_chess_Game__ = __webpack_require__(\"2+AJ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__chess_vue__ = __webpack_require__(\"31Cy\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Logger__ = __webpack_require__(\"nLI6\");\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nvar logger = new __WEBPACK_IMPORTED_MODULE_4__Logger__[\"a\" /* default */]();\n\nvar game = new __WEBPACK_IMPORTED_MODULE_2__domain_chess_Game__[\"a\" /* default */]({ logger: logger }).setup();\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_3__chess_vue__[\"a\" /* default */], { game: game, logger: logger });\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: \"#app\",\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */]);\n  }\n});\n\n/***/ }),\n\n/***/ \"NTma\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('board', {\n    staticClass: \"board\",\n    attrs: {\n      \"board\": _vm.game.board\n    },\n    on: {\n      \"cell-click\": _vm.handleCellClick\n    }\n  }), _vm._v(\" \"), _c('aside', [_c('div', [_c('strong', [_vm._v(\"Player: \")]), _vm._v(_vm._s(_vm.game.player) + \"\\n    \")]), _vm._v(\" \"), _c('div', [_c('strong', [_vm._v(\"Instructions: \")]), _vm._v(_vm._s(_vm.state) + \"\\n\\n      \"), (_vm.showCancel) ? _c('button', {\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.clearSelection($event)\n      }\n    }\n  }, [_vm._v(\"Cancel\")]) : _vm._e()]), _vm._v(\" \"), _c('div', [(_vm.gameEnd) ? _c('button', {\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.newGame($event)\n      }\n    }\n  }, [_vm._v(\"Play Again?\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"log\"\n  }, _vm._l((_vm.messages), function(item, idx) {\n    return _c('div', {\n      key: idx\n    }, [_c('div', [_vm._v(_vm._s(item))])])\n  }))])], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"NkXQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('chess-game')], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"Ntw8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    cell: {\n      required: true\n    }\n  },\n\n  computed: {\n    piece: function piece() {\n      return this.cell.piece || {};\n    },\n    type: function type() {\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"get\"])(this.cell, \"piece.type\", null);\n    },\n    caption: function caption() {\n      if (this.type == null) {\n        return \"\";\n      }\n\n      return String(this.type).substr(0, 2);\n    },\n    cssClass: function cssClass() {\n      return \"piece \" + this.piece.color;\n    }\n  }\n\n});\n\n/***/ }),\n\n/***/ \"OYWW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = processRules;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(\"Dd8w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n\nfunction processRules(rules, context) {\n  var game = context.game,\n      cell1 = context.cell1,\n      cell2 = context.cell2,\n      logger = context.logger;\n  var piece = cell1.piece,\n      x1 = cell1.x,\n      y1 = cell1.y;\n  var x2 = cell2.x,\n      y2 = cell2.y;\n  var type = piece.type;\n  var movement = rules.movement,\n      win = rules.win;\n\n\n  var brokenMovementRule = movement.find(function (rule) {\n    var _rule = rule(context),\n        valid = _rule.valid;\n\n    return !valid;\n  });\n\n  if (brokenMovementRule) {\n    logger.log(\"Invalid Move!\");\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, context, brokenMovementRule);\n  }\n\n  game.board = game.board.move(cell1, cell2);\n  logger.log(\"MOVE: \" + type + \" (\" + x1 + \",\" + y1 + \") => (\" + x2 + \",\" + y2 + \")\");\n\n  var winRule = win.find(function (rule) {\n    var _rule2 = rule(context),\n        gameEnd = _rule2.gameEnd;\n\n    return gameEnd;\n  });\n\n  return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n    gameEnd: winRule != null\n  }, context);\n}\n\n/***/ }),\n\n/***/ \"PJBX\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(\"Dd8w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__GridCell__ = __webpack_require__(\"C4WL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__defaultCellFormatter__ = __webpack_require__(\"Tot7\");\n\n\n\n\n\nvar DEFAULT_GRID_WIDTH = 8;\nvar DEFAULT_GRID_HEIGHT = 8;\n\nvar Board = function Board() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, Board);\n\n  this.setup = function () {\n    _this._grid = [];\n    var cellId = 0;\n    for (var y = 0; y < _this.height; y++) {\n      _this._grid[y] = [];\n      for (var x = 0; x < _this.width; x++) {\n        cellId += 1;\n        var cellOptions = _this.cellFormatter({ x: x, y: y });\n        var cell = new __WEBPACK_IMPORTED_MODULE_2__GridCell__[\"a\" /* default */](__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n          cellId: cellId\n        }, cellOptions));\n        _this.setCell({ x: x, y: y, cell: cell });\n      }\n    }\n  };\n\n  this.place = function (_ref) {\n    var x = _ref.x,\n        y = _ref.y,\n        piece = _ref.piece;\n\n    var cell = _this.getCell({ x: x, y: y });\n    cell.piece = piece;\n    piece.moves = 0;\n  };\n\n  this.move = function (cell1, cell2) {\n    var piece = cell1.piece;\n\n    cell2.piece = piece;\n    cell1.piece = null;\n    piece.moves += 1;\n    return _this;\n  };\n\n  this.getCell = function (_ref2) {\n    var x = _ref2.x,\n        y = _ref2.y;\n    return _this._grid[y][x];\n  };\n\n  this.setCell = function (_ref3) {\n    var x = _ref3.x,\n        y = _ref3.y,\n        cell = _ref3.cell;\n\n    _this._grid[y][x] = cell;\n  };\n\n  this.getGrid = function () {\n    return _this._grid;\n  };\n\n  this.getRow = function (idx) {\n    return _this._grid[idx];\n  };\n\n  this.isValidPoint = function (_ref4) {\n    var x = _ref4.x,\n        y = _ref4.y;\n\n    var valid = x >= 0 && x < _this.width && y >= 0 && y < _this.height;\n    window.console.log(\"VALID\", x, y, valid);\n    return valid;\n  };\n\n  this.isVacant = function (point) {\n    var cell = _this.getCell(point);\n    return cell.piece == null;\n  };\n\n  var gridWidth = options.gridWidth,\n      gridHeight = options.gridHeight,\n      cellFormatter = options.cellFormatter;\n\n  this.width = gridWidth || DEFAULT_GRID_WIDTH;\n  this.height = gridHeight || DEFAULT_GRID_HEIGHT;\n  this.cellFormatter = cellFormatter || __WEBPACK_IMPORTED_MODULE_3__defaultCellFormatter__[\"a\" /* default */];\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Board);\n\n/***/ }),\n\n/***/ \"TKUP\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = moveOnlyCurrentPlayer;\nfunction moveOnlyCurrentPlayer(_ref) {\n  var game = _ref.game,\n      cell1 = _ref.cell1,\n      logger = _ref.logger;\n  var player = game.player;\n  var piece = cell1.piece;\n  var color = piece.color;\n\n\n  var valid = player === color;\n  if (!valid) {\n    logger.log(\"Cannot move \" + color + \"; it is \" + player + \"'s turn.\");\n  }\n\n  return {\n    game: game,\n    valid: valid,\n    gameEnd: false\n  };\n}\n\n/***/ }),\n\n/***/ \"Tot7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n\n  var isDark = y % 2 === 0 ? x % 2 === 0 ? true : false : x % 2 === 0 ? false : true;\n\n  return {\n    isDark: isDark,\n    x: x,\n    y: y\n  };\n});\n\n/***/ }),\n\n/***/ \"YEQW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = pawnMoveRule;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__ = __webpack_require__(\"Gu7T\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__PieceColor__ = __webpack_require__(\"sAbv\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__PieceType__ = __webpack_require__(\"bHE+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__move_builder__ = __webpack_require__(\"bMM1\");\n\n\n\n\n\nfunction pawnMoveRule(_ref) {\n  var game = _ref.game,\n      logger = _ref.logger,\n      cell1 = _ref.cell1,\n      cell2 = _ref.cell2;\n\n  var valid = true;\n\n  var board = game.board;\n  var piece1 = cell1.piece;\n  var type = piece1.type,\n      moves = piece1.moves,\n      color = piece1.color;\n  var piece2 = cell2.piece;\n  //\n  // only care about pawns\n\n  if (type !== __WEBPACK_IMPORTED_MODULE_2__PieceType__[\"a\" /* Pawn */]) {\n    return { valid: valid };\n  }\n\n  var x1 = cell1.x;\n  var x2 = cell2.x,\n      y2 = cell2.y;\n\n\n  var isCaptureMove = x1 !== x2 && piece2 != null;\n  var move = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__move_builder__[\"a\" /* default */])({ board: board, cell1: cell1 });\n  var linear = move.linear;\n\n\n  var candidatePoints = [];\n  if (!isCaptureMove) {\n    var max = moves === 0 ? 2 : 1;\n    var north = linear.north,\n        south = linear.south;\n\n    candidatePoints = color === __WEBPACK_IMPORTED_MODULE_1__PieceColor__[\"a\" /* White */] ? north(max) : south(max);\n    candidatePoints = candidatePoints.filter(function (point) {\n      return board.isVacant(point);\n    });\n  } else {\n    valid = false;\n    var _max = 1;\n    var northWest = linear.northWest,\n        southWest = linear.southWest,\n        northEast = linear.northEast,\n        southEast = linear.southEast;\n\n    candidatePoints = color === __WEBPACK_IMPORTED_MODULE_1__PieceColor__[\"a\" /* White */] ? [].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(northWest(_max)), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(northEast(_max))) : [].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(southEast(_max)), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(southWest(_max)));\n    candidatePoints = candidatePoints.filter(function (point) {\n      return !board.isVacant(point);\n    });\n    logger.log(\"CAPTURED: \" + cell2.piece.type + \" (\" + x2 + \", \" + y2 + \")\");\n  }\n  valid = candidatePoints.some(function (_ref2) {\n    var x = _ref2.x,\n        y = _ref2.y;\n    return x === x2 && y === y2;\n  });\n  return { valid: valid };\n}\n\n/***/ }),\n\n/***/ \"b2Jq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = gameOfPawnsWin;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__PieceColor__ = __webpack_require__(\"sAbv\");\n\n\nfunction gameOfPawnsWin(_ref) {\n  var game = _ref.game,\n      logger = _ref.logger;\n  var board = game.board;\n\n  var valid = true;\n\n  var didWhiteWin = isInRow(board, 0, __WEBPACK_IMPORTED_MODULE_0__PieceColor__[\"a\" /* White */]);\n  if (didWhiteWin) {\n    logger.log(\"White Wins!\");\n    return {\n      gameEnd: true,\n      valid: valid\n    };\n  }\n\n  var didBlackWin = isInRow(board, board.height - 1, __WEBPACK_IMPORTED_MODULE_0__PieceColor__[\"b\" /* Black */]);\n  if (didBlackWin) {\n    logger.log(\"Black Wins!\");\n    return {\n      gameEnd: true,\n      valid: valid\n    };\n  }\n\n  return {\n    valid: valid\n  };\n}\n\nfunction isInRow(board, rowIdx, color) {\n  return board.getRow(rowIdx).some(function (cell) {\n    return cell.piece && cell.piece.color === color;\n  });\n}\n\n/***/ }),\n\n/***/ \"bHE+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Pawn; });\nvar Pawn = \"Pawn\";\n\n/***/ }),\n\n/***/ \"bMM1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = moveBuilder;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n\n\nfunction moveBuilder(_ref) {\n  var board = _ref.board,\n      cell1 = _ref.cell1;\n  var x1 = cell1.x,\n      y1 = cell1.y;\n\n  var validPoint = function validPoint(point) {\n    return board.isValidPoint(point);\n  };\n\n  return {\n    linear: {\n      north: function north(max) {\n        var yRange = negativeRange(y1, max);\n        var xRange = fillRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      },\n      south: function south(max) {\n        var yRange = positiveRange(y1, max);\n        var xRange = fillRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      },\n      east: function east(max) {\n        var yRange = fillRange(y1, max);\n        var xRange = positiveRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      },\n      west: function west(max) {\n        var yRange = fillRange(y1, max);\n        var xRange = negativeRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      },\n      northWest: function northWest(max) {\n        var yRange = negativeRange(y1, max);\n        var xRange = negativeRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      },\n      northEast: function northEast(max) {\n        var yRange = negativeRange(y1, max);\n        var xRange = positiveRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      },\n      southEast: function southEast(max) {\n        var yRange = positiveRange(y1, max);\n        var xRange = positiveRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      },\n      southWest: function southWest(max) {\n        var yRange = positiveRange(y1, max);\n        var xRange = negativeRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      }\n    }\n  };\n}\n\nfunction joinRanges(xRange, yRange) {\n  return xRange.map(function (x, idx) {\n    return {\n      x: x,\n      y: yRange[idx]\n    };\n  });\n}\n\nfunction fillRange(currentIdx, max) {\n  return Array(max).fill(currentIdx);\n}\n\nfunction negativeRange(currentIdx, max) {\n  var start = currentIdx - 1;\n  var end = start - max - 1;\n  var step = -1;\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"range\"])(start, end, step);\n}\n\nfunction positiveRange(currentIdx, max) {\n  var start = currentIdx + 1;\n  var end = start + max + 1;\n  var step = 1;\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"range\"])(start, end, step);\n}\n\n/***/ }),\n\n/***/ \"d9+u\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"fCe8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('button', {\n    class: _vm.cssClass\n  }, [_c('span', [_vm._v(_vm._s(_vm.caption))])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"gvkF\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_PieceView_vue__ = __webpack_require__(\"Ntw8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0e397ade_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_PieceView_vue__ = __webpack_require__(\"fCe8\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"7lyb\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0e397ade\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_PieceView_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0e397ade_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_PieceView_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"h8aE\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"nLI6\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n\nvar _window = window,\n    Set = _window.Set;\n\nvar Logger = function Logger() {\n  var _this = this;\n\n  __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, Logger);\n\n  this.getMessages = function () {\n    return _this._messages;\n  };\n\n  this.subscribe = function (subscriber) {\n    _this._subscribers.add(subscriber);\n    return function () {\n      return _this._subscribers.delete(subscriber);\n    };\n  };\n\n  this.log = function (message) {\n    window.console.log(\"MESSAGE\", message);\n    _this._messages.push(message);\n    _this._subscribers.forEach(function (s) {\n      return s();\n    });\n  };\n\n  this.clear = function () {\n    _this._messages.length = 0;\n    _this._subscribers.forEach(function (s) {\n      return s();\n    });\n  };\n\n  this._subscribers = new Set();\n  this._messages = [];\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Logger);\n\n/***/ }),\n\n/***/ \"quo9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n\n\nvar Piece = function Piece() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, Piece);\n\n  var color = options.color,\n      type = options.type;\n\n  if (color === null) {\n    throw new Error(\"color is required\");\n  }\n  this.color = color;\n  if (type === null) {\n    throw new Error(\"type is required\");\n  }\n  this.type = type;\n  this.moves = 0;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Piece);\n\n/***/ }),\n\n/***/ \"sAbv\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return White; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return Black; });\nvar White = \"white\";\nvar Black = \"black\";\n\n/***/ }),\n\n/***/ \"we3F\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__PieceView__ = __webpack_require__(\"gvkF\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    board: {\n      required: true\n    }\n  },\n\n  computed: {\n    grid: function grid() {\n      return this.board.getGrid();\n    },\n    width: function width() {\n      return this.board.width;\n    },\n    height: function height() {\n      return this.board.height;\n    }\n  },\n\n  methods: {\n    getClass: function getClass(cell) {\n      return cell.isDark ? \"cell cell-dark\" : \"cell cell-light\";\n    }\n  },\n\n  components: {\n    pieceView: __WEBPACK_IMPORTED_MODULE_0__PieceView__[\"a\" /* default */]\n  }\n});\n\n/***/ }),\n\n/***/ \"x2rv\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ChessGameView_vue__ = __webpack_require__(\"HT4Q\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6fa81cfc_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_ChessGameView_vue__ = __webpack_require__(\"NTma\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"h8aE\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6fa81cfc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ChessGameView_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6fa81cfc_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_ChessGameView_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app'\n});\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.ed219f96f11ffbdd5a1e.js","import * as PieceColor from \"../PieceColor\";\n\nexport default function changePlayerRule({ game }) {\n  const { player } = game;\n  game.player =\n    player === PieceColor.White ? PieceColor.Black : PieceColor.White;\n\n  return {\n    game,\n    valid: true,\n    gameEnd: false,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/rules/change-player-rule.js","import Board from \"./Board\";\n\nimport defaultRules from \"./defaultRules\";\n\nexport default class Game {\n  constructor(options = {}) {\n    const { rules, logger } = options;\n\n    this._rules = rules || defaultRules;\n    this.logger = logger;\n\n    this.board = new Board(options);\n    this.player = null;\n  }\n\n  setup = () => {\n    this._rules.setup(this);\n    this.logger.log(\"Game started.\");\n    return this;\n  };\n\n  applyMove = (cell1, cell2) => this._rules.applyMove(this, cell1, cell2);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/Game.js","import ChessGameView from \"./ChessGameView.vue\";\n\nexport default (Vue, { game, logger }) => {\n  Vue.component(\"chess-game\", ChessGameView);\n\n  Object.assign(Vue.prototype, {\n    $game: game,\n    $logger: logger,\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/chess-vue/index.js","import pawnMoveRule from \"./pawn-move-rule\";\nimport changePlayerRule from \"./change-player-rule\";\nimport moveOnlyCurrentPlayer from \"./move-only-current-player\";\nimport noMoveOnSameColor from \"./no-move-on-same-color\";\nimport gameOfPawnsWin from \"./game-of-pawns-win\";\n\nexport default {\n  movement: [\n    moveOnlyCurrentPlayer,\n    noMoveOnSameColor,\n    pawnMoveRule,\n    changePlayerRule,\n  ],\n  win: [gameOfPawnsWin],\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/rules/game-of-pawns-ruleset.js","import { get } from \"lodash\";\n\nexport default function noMoveOnSameColor({ cell1, cell2 }) {\n  const color1 = get(cell1, \"piece.color\", null);\n  const color2 = get(cell2, \"piece.color\", null);\n\n  return {\n    valid: color1 !== color2,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/rules/no-move-on-same-color.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cca13254\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BoardView.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BoardView.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cca13254\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./BoardView.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cca13254\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/chess-vue/BoardView.vue\n// module id = 8NI2\n// module chunks = 1","import rules from \"./rules/game-of-pawns-ruleset\";\nimport ruleProcessor from \"./rules/rule-processor\";\nimport * as PieceType from \"./PieceType\";\nimport * as PieceColor from \"./PieceColor\";\nimport Piece from \"./Piece\";\n\nexport default {\n  setup(game) {\n    const { board } = game;\n    const { height } = board;\n\n    // white goes first\n    game.player = PieceColor.White;\n\n    // use default board setup\n    board.setup();\n\n    // 1 row of white pawns\n    fillPawnRow(height - 2, board, PieceColor.White);\n\n    // 1 row of black pawns\n    fillPawnRow(1, board, PieceColor.Black);\n  },\n\n  applyMove(game, cell1, cell2) {\n    const { logger } = game;\n\n    const result = ruleProcessor(rules, {\n      game,\n      cell1,\n      cell2,\n      logger,\n    });\n    return {\n      game,\n      ...result,\n    };\n  },\n};\n\nfunction fillPawnRow(rowIdx, board, color) {\n  for (let x = 0; x < board.width; x++) {\n    const piece = new Piece({\n      color,\n      type: PieceType.Pawn,\n    });\n    board.place({\n      x,\n      y: rowIdx,\n      piece,\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/defaultRules.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('table', {\n    staticClass: \"game-table\"\n  }, [_c('tbody', _vm._l((_vm.grid), function(column, y) {\n    return _c('tr', {\n      key: y\n    }, _vm._l((column), function(cell, x) {\n      return _c('td', {\n        key: x,\n        class: _vm.getClass(cell)\n      }, [_c('piece-view', _vm._b({\n        nativeOn: {\n          \"click\": function($event) {\n            $event.stopPropagation();\n            _vm.$emit('cell-click', cell, x, y)\n          }\n        }\n      }, 'piece-view', {\n        cell: cell,\n        x: x,\n        y: y\n      }, false))], 1)\n    }))\n  }))])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-cca13254\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/chess-vue/BoardView.vue\n// module id = 9IMS\n// module chunks = 1","export default class GridCell {\n  constructor(options) {\n    this.piece = null;\n    Object.keys(options).forEach(key => (this[key] = options[key]));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/GridCell.js","<template>\n  <div>\n    <board class=\"board\" :board=\"game.board\" @cell-click=\"handleCellClick\">\n    </board>\n\n    <aside>\n      <div>\n        <strong>Player: </strong>{{game.player}}\n      </div>\n      <div>\n        <strong>Instructions: </strong>{{state}}\n\n        <button v-if=\"showCancel\" @click.stop=\"clearSelection\">Cancel</button>\n      </div>\n      <div>\n        <button v-if=\"gameEnd\" @click.stop=\"newGame\">Play Again?</button>\n      </div>\n      <div class=\"log\">\n        <div v-for=\"(item, idx) in messages\" :key=\"idx\">\n          <div>{{item}}</div>\n        </div>\n      </div>\n\n    </aside>\n\n  </div>\n</template>\n\n<script>\nimport Game from '@/domain/chess/Game'\nimport board from './BoardView'\n\nconst STATE_SELECTING_PIECE = \"Select a Piece\";\nconst STATE_SELECTING_TARGET = \"Select a Target\";\n\nexport default {\n  name: 'ChessGameView',\n\n  data() {\n    return {\n      state: STATE_SELECTING_PIECE,\n      selectedCell: null,\n      game: this.$game,\n      gameEnd: false,\n      messages: []\n    }\n  },\n\n  mounted() {\n    if (!(this.$game instanceof Game)) {\n      throw new Error(\"this.$game is invalid\")\n    }\n\n    this.loadMessages();\n    this.subscription = this.$logger.subscribe(this.loadMessages);\n  },\n\n  beforeDestroy() {\n    if (typeof this.subscription === \"function\") {\n      this.subscription();\n    }\n  },\n\n  computed: {\n    showCancel() {\n      return this.state === STATE_SELECTING_TARGET;\n    },\n    board() {\n      return this.game.board;\n    }\n  },\n\n  methods: {\n    newGame() {\n      window.location.reload();\n    },\n    handleCellClick(cell) {\n      if (this.gameEnd) {\n        return;\n      }\n      const { piece } = cell;\n      switch (this.state) {\n        case STATE_SELECTING_PIECE: {\n          if (piece == null) {\n            return;\n          }\n          this.selectedCell = cell;\n          this.state = STATE_SELECTING_TARGET;\n          break;\n        }\n\n        case STATE_SELECTING_TARGET: {\n          const cell1 = this.selectedCell;\n          const cell2 = cell;\n\n          const { game, gameEnd } = this.game.applyMove(cell1, cell2);\n          this.game = game;\n          this.gameEnd = gameEnd;\n          this.clearSelection();\n        }\n\n      }\n    },\n    clearSelection() {\n      this.state = STATE_SELECTING_PIECE;\n      this.selectedCell = null;\n    },\n    loadMessages() {\n      this.messages = this.$logger.getMessages().slice();\n    }\n  },\n\n  components: {\n    board\n  }\n\n}\n</script>\n\n<style scoped>\n.board {\n  float: left;\n  margin-right: 15px;\n}\n\naside {\n  float: left;\n  min-height: 100%;\n  min-width: 48%;\n  overflow: scroll;\n  height: 1000px;\n}\n\n.log {\n  background-color: lightslategray;\n  min-width: 100%;\n  color: whitesmoke;\n  padding: 4px;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/chess-vue/ChessGameView.vue?917000da","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0810f8bc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","import Vue from \"vue\";\nimport App from \"./App\";\n\nimport Game from \"./domain/chess/Game\";\nimport ChessVue from \"./chess-vue\";\nimport Logger from \"./Logger\";\n\nVue.config.productionTip = false;\n\nconst logger = new Logger();\n\nconst game = new Game({ logger }).setup();\nVue.use(ChessVue, { game, logger });\n\n/* eslint-disable no-new */\nnew Vue({\n  el: \"#app\",\n  render: h => h(App),\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('board', {\n    staticClass: \"board\",\n    attrs: {\n      \"board\": _vm.game.board\n    },\n    on: {\n      \"cell-click\": _vm.handleCellClick\n    }\n  }), _vm._v(\" \"), _c('aside', [_c('div', [_c('strong', [_vm._v(\"Player: \")]), _vm._v(_vm._s(_vm.game.player) + \"\\n    \")]), _vm._v(\" \"), _c('div', [_c('strong', [_vm._v(\"Instructions: \")]), _vm._v(_vm._s(_vm.state) + \"\\n\\n      \"), (_vm.showCancel) ? _c('button', {\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.clearSelection($event)\n      }\n    }\n  }, [_vm._v(\"Cancel\")]) : _vm._e()]), _vm._v(\" \"), _c('div', [(_vm.gameEnd) ? _c('button', {\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.newGame($event)\n      }\n    }\n  }, [_vm._v(\"Play Again?\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"log\"\n  }, _vm._l((_vm.messages), function(item, idx) {\n    return _c('div', {\n      key: idx\n    }, [_c('div', [_vm._v(_vm._s(item))])])\n  }))])], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6fa81cfc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/chess-vue/ChessGameView.vue\n// module id = NTma\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('chess-game')], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0810f8bc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = NkXQ\n// module chunks = 1","<template>\n  <button :class=\"cssClass\">\n    <span>{{caption}}</span>\n  </button>\n</template>\n\n<script>\nimport { get } from \"lodash\";\n\nexport default {\n  props: {\n    cell: {\n      required: true\n    }\n  },\n\n  computed: {\n    piece() {\n      return this.cell.piece || {};\n    },\n    type() {\n      return get(this.cell, \"piece.type\", null);\n    },\n    caption() {\n      if (this.type == null) {\n        return \"\";\n      }\n\n      return String(this.type).substr(0, 2);\n    },\n    cssClass() {\n      return `piece ${this.piece.color}`\n    }\n  }\n\n}\n</script>\n\n<style scoped>\n.piece {\n  min-width: 100%;\n  min-height: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: transparent;\n  border: none;\n  font-weight: bolder;\n  font-size: 1.25em;\n}\n\n.piece.white {\n  color: white;\n  text-shadow: -1px -1px 0 #000,\n  1px -1px 0 #000,\n  -1px 1px 0 #000,\n  1px 1px 0 #000;\n}\n\n.piece.black {\n  color: black;\n  text-shadow: -1px -1px 0 #FFF,\n  1px -1px 0 #FFF,\n  -1px 1px 0 #FFF,\n  1px 1px 0 #FFF;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/chess-vue/PieceView.vue?2be2f79a","export default function processRules(rules, context) {\n  const { game, cell1, cell2, logger } = context;\n  const { piece, x: x1, y: y1 } = cell1;\n  const { x: x2, y: y2 } = cell2;\n  const { type } = piece;\n  const { movement, win } = rules;\n\n  const brokenMovementRule = movement.find(rule => {\n    const { valid } = rule(context);\n    return !valid;\n  });\n\n  if (brokenMovementRule) {\n    logger.log(\"Invalid Move!\");\n    return {\n      ...context,\n      ...brokenMovementRule,\n    };\n  }\n\n  game.board = game.board.move(cell1, cell2);\n  logger.log(`MOVE: ${type} (${x1},${y1}) => (${x2},${y2})`);\n\n  const winRule = win.find(rule => {\n    const { gameEnd } = rule(context);\n    return gameEnd;\n  });\n\n  return {\n    gameEnd: winRule != null,\n    ...context,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/rules/rule-processor.js","import GridCell from \"./GridCell\";\nimport defaultCellFormatter from \"./defaultCellFormatter\";\n\nconst DEFAULT_GRID_WIDTH = 8;\nconst DEFAULT_GRID_HEIGHT = 8;\n\nexport default class Board {\n  constructor(options = {}) {\n    const { gridWidth, gridHeight, cellFormatter } = options;\n    this.width = gridWidth || DEFAULT_GRID_WIDTH;\n    this.height = gridHeight || DEFAULT_GRID_HEIGHT;\n    this.cellFormatter = cellFormatter || defaultCellFormatter;\n  }\n\n  setup = () => {\n    this._grid = [];\n    let cellId = 0;\n    for (let y = 0; y < this.height; y++) {\n      this._grid[y] = [];\n      for (let x = 0; x < this.width; x++) {\n        cellId += 1;\n        const cellOptions = this.cellFormatter({ x, y });\n        const cell = new GridCell({\n          cellId,\n          ...cellOptions,\n        });\n        this.setCell({ x, y, cell });\n      }\n    }\n  };\n\n  place = ({ x, y, piece }) => {\n    const cell = this.getCell({ x, y });\n    cell.piece = piece;\n    piece.moves = 0;\n  };\n\n  move = (cell1, cell2) => {\n    const { piece } = cell1;\n    cell2.piece = piece;\n    cell1.piece = null;\n    piece.moves += 1;\n    return this;\n  };\n\n  getCell = ({ x, y }) => this._grid[y][x];\n\n  setCell = ({ x, y, cell }) => {\n    this._grid[y][x] = cell;\n  };\n\n  getGrid = () => this._grid;\n\n  getRow = idx => this._grid[idx];\n\n  isValidPoint = ({ x, y }) => {\n    const valid = x >= 0 && x < this.width && y >= 0 && y < this.height;\n    window.console.log(\"VALID\", x, y, valid);\n    return valid;\n  };\n\n  isVacant = point => {\n    const cell = this.getCell(point);\n    return cell.piece == null;\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/Board.js","export default function moveOnlyCurrentPlayer({ game, cell1, logger }) {\n  const { player } = game;\n\n  const { piece } = cell1;\n  const { color } = piece;\n\n  const valid = player === color;\n  if (!valid) {\n    logger.log(`Cannot move ${color}; it is ${player}'s turn.`);\n  }\n\n  return {\n    game,\n    valid,\n    gameEnd: false,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/rules/move-only-current-player.js","export default ({ x, y }) => {\n  const isDark =\n    y % 2 === 0 ? (x % 2 === 0 ? true : false) : x % 2 === 0 ? false : true;\n\n  return {\n    isDark,\n    x,\n    y,\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/defaultCellFormatter.js","import * as PieceColor from \"../PieceColor\";\nimport * as PieceType from \"../PieceType\";\nimport moveBuilder from \"./move-builder\";\n\nexport default function pawnMoveRule({ game, logger, cell1, cell2 }) {\n  let valid = true;\n\n  const { board } = game;\n  const { piece: piece1 } = cell1;\n  const { type, moves, color } = piece1;\n  const { piece: piece2 } = cell2;\n  //\n  // only care about pawns\n  if (type !== PieceType.Pawn) {\n    return { valid };\n  }\n\n  const { x: x1 } = cell1;\n  const { x: x2, y: y2 } = cell2;\n\n  const isCaptureMove = x1 !== x2 && piece2 != null;\n  const move = moveBuilder({ board, cell1 });\n  const { linear } = move;\n\n  let candidatePoints = [];\n  if (!isCaptureMove) {\n    const max = moves === 0 ? 2 : 1;\n    const { north, south } = linear;\n    candidatePoints = color === PieceColor.White ? north(max) : south(max);\n    candidatePoints = candidatePoints.filter(point => board.isVacant(point));\n  } else {\n    valid = false;\n    const max = 1;\n    const { northWest, southWest, northEast, southEast } = linear;\n    candidatePoints =\n      color === PieceColor.White\n        ? [...northWest(max), ...northEast(max)]\n        : [...southEast(max), ...southWest(max)];\n    candidatePoints = candidatePoints.filter(point => !board.isVacant(point));\n    logger.log(`CAPTURED: ${cell2.piece.type} (${x2}, ${y2})`);\n  }\n  valid = candidatePoints.some(({ x, y }) => x === x2 && y === y2);\n  return { valid };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/rules/pawn-move-rule.js","import * as PieceColor from \"../PieceColor\";\n\nexport default function gameOfPawnsWin({ game, logger }) {\n  const { board } = game;\n  const valid = true;\n\n  const didWhiteWin = isInRow(board, 0, PieceColor.White);\n  if (didWhiteWin) {\n    logger.log(\"White Wins!\");\n    return {\n      gameEnd: true,\n      valid,\n    };\n  }\n\n  const didBlackWin = isInRow(board, board.height - 1, PieceColor.Black);\n  if (didBlackWin) {\n    logger.log(\"Black Wins!\");\n    return {\n      gameEnd: true,\n      valid,\n    };\n  }\n\n  return {\n    valid,\n  };\n}\n\nfunction isInRow(board, rowIdx, color) {\n  return board\n    .getRow(rowIdx)\n    .some(cell => cell.piece && cell.piece.color === color);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/rules/game-of-pawns-win.js","export const Pawn = \"Pawn\";\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/PieceType.js","import { range } from \"lodash\";\n\nexport default function moveBuilder({ board, cell1 }) {\n  const { x: x1, y: y1 } = cell1;\n  const validPoint = point => board.isValidPoint(point);\n\n  return {\n    linear: {\n      north(max) {\n        const yRange = negativeRange(y1, max);\n        const xRange = fillRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      },\n      south(max) {\n        const yRange = positiveRange(y1, max);\n        const xRange = fillRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      },\n      east(max) {\n        const yRange = fillRange(y1, max);\n        const xRange = positiveRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      },\n      west(max) {\n        const yRange = fillRange(y1, max);\n        const xRange = negativeRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      },\n      northWest(max) {\n        const yRange = negativeRange(y1, max);\n        const xRange = negativeRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      },\n      northEast(max) {\n        const yRange = negativeRange(y1, max);\n        const xRange = positiveRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      },\n      southEast(max) {\n        const yRange = positiveRange(y1, max);\n        const xRange = positiveRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      },\n      southWest(max) {\n        const yRange = positiveRange(y1, max);\n        const xRange = negativeRange(x1, max);\n        return joinRanges(xRange, yRange).filter(validPoint);\n      },\n    },\n  };\n}\n\nfunction joinRanges(xRange, yRange) {\n  return xRange.map((x, idx) => ({\n    x: x,\n    y: yRange[idx],\n  }));\n}\n\nfunction fillRange(currentIdx, max) {\n  return Array(max).fill(currentIdx);\n}\n\nfunction negativeRange(currentIdx, max) {\n  const start = currentIdx - 1;\n  const end = start - max - 1;\n  const step = -1;\n  return range(start, end, step);\n}\n\nfunction positiveRange(currentIdx, max) {\n  const start = currentIdx + 1;\n  const end = start + max + 1;\n  const step = 1;\n  return range(start, end, step);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/rules/move-builder.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('button', {\n    class: _vm.cssClass\n  }, [_c('span', [_vm._v(_vm._s(_vm.caption))])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0e397ade\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/chess-vue/PieceView.vue\n// module id = fCe8\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e397ade\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PieceView.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PieceView.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e397ade\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PieceView.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0e397ade\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/chess-vue/PieceView.vue\n// module id = gvkF\n// module chunks = 1","const { Set } = window;\n\nexport default class Logger {\n  constructor() {\n    this._subscribers = new Set();\n    this._messages = [];\n  }\n\n  getMessages = () => this._messages;\n\n  subscribe = subscriber => {\n    this._subscribers.add(subscriber);\n    return () => this._subscribers.delete(subscriber);\n  };\n\n  log = message => {\n    window.console.log(\"MESSAGE\", message);\n    this._messages.push(message);\n    this._subscribers.forEach(s => s());\n  };\n\n  clear = () => {\n    this._messages.length = 0;\n    this._subscribers.forEach(s => s());\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Logger.js","export default class Piece {\n  constructor(options = {}) {\n    const { color, type } = options;\n    if (color === null) {\n      throw new Error(\"color is required\");\n    }\n    this.color = color;\n    if (type === null) {\n      throw new Error(\"type is required\");\n    }\n    this.type = type;\n    this.moves = 0;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/Piece.js","export const White = \"white\";\nexport const Black = \"black\";\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/chess/PieceColor.js","<template>\n  <table class=\"game-table\">\n    <tbody>\n      <tr v-for=\"(column, y) in grid\" :key=\"y\">\n        <td :class=\"getClass(cell)\" v-for=\"(cell, x) in column\" :key=\"x\">\n          <piece-view v-bind=\"{cell, x, y}\" @click.native.stop=\"$emit('cell-click', cell, x, y)\"></piece-view>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</template>\n\n<script>\nimport pieceView from \"./PieceView\"\n\nexport default {\n  props: {\n    board: {\n      required: true\n    }\n  },\n\n  computed: {\n    grid() {\n      return this.board.getGrid();\n    },\n    width() {\n      return this.board.width;\n    },\n    height() {\n      return this.board.height;\n    }\n  },\n\n  methods: {\n    getClass(cell) {\n      return cell.isDark ?\n        \"cell cell-dark\" :\n        \"cell cell-light\";\n    },\n  },\n\n  components: {\n    pieceView\n  }\n}\n</script>\n\n\n<style scoped>\n.game-table {\n  border-collapse: collapse;\n}\n\n.cell {\n  width: 3em;\n  height: 3em;\n}\n\n.cell.cell-light {\n  background-color: blanchedalmond;\n}\n\n.cell.cell-dark {\n  background-color: black;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/chess-vue/BoardView.vue?74d0b9eb","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6fa81cfc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChessGameView.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChessGameView.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6fa81cfc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChessGameView.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6fa81cfc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/chess-vue/ChessGameView.vue\n// module id = x2rv\n// module chunks = 1","<template>\n  <div id=\"app\">\n    <chess-game></chess-game>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'app'\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue?9716cb9c"],"sourceRoot":""}